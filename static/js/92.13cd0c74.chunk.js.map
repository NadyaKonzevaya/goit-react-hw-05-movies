{"version":3,"file":"static/js/92.13cd0c74.chunk.js","mappings":"2QAIaA,GAAaC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAH,mEAKVE,GAAoBF,EAAAA,EAAAA,IAAOG,EAAAA,IAAPH,CAAH,0FAMjBI,EAAYJ,EAAAA,GAAAA,IAAH,wKAQTK,EAAgBL,EAAAA,GAAAA,IAAH,8CAIbM,EAAWN,EAAAA,GAAAA,GAAH,8EAMRO,EAAWP,EAAAA,GAAAA,GAAH,+CAIRQ,EAAmBR,EAAAA,GAAAA,IAAH,qG,SC2D7B,EAjFqB,WAAO,IAAD,IACjBS,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA0BE,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KAGMC,EAAY,qBAFDC,EAAAA,EAAAA,MAEaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAO7C,IAJAC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAAA,eAAmBV,GAASW,KAAKP,EAClC,GAAE,CAACJ,KAECG,EACH,OAAO,KAOT,IAAQS,EACNT,EADMS,MAAOC,EACbV,EADaU,aAAcC,EAC3BX,EAD2BW,aAAcC,EACzCZ,EADyCY,SAAUC,EACnDb,EADmDa,OAAQC,EAC3Dd,EAD2Dc,YAG7D,OACE,iCACE,mBAAQC,KAAK,SAAb,UACE,UAAC5B,EAAD,CAAY6B,GAAId,EAAhB,WACE,SAACZ,EAAD,IADF,gBAKF,UAACE,EAAD,YACE,gBAAKyB,IAAI,SAASC,IAAG,UAlCN,mCAkCM,OAAsBJ,GAAeK,MAAM,SAChE,UAAC1B,EAAD,YACE,0BACGgB,EADH,IACWW,OAAOC,SAASX,GAD3B,QAGA,wCAAgBY,KAAKC,MAAqB,GAAfZ,GAA3B,SACA,uCACA,uBAAIC,KACJ,oCACA,SAAClB,EAAD,UACGmB,EAAOW,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAP,OACV,SAAC/B,EAAD,UAAoB+B,GAALD,EADL,aAMlB,UAAC7B,EAAD,YACE,mDACA,2BACE,yBACE,SAAC,KAAD,CAASoB,GAAG,OAAZ,qBAEF,yBACE,SAAC,KAAD,CAASA,GAAG,UAAZ,8BAIN,SAAC,EAAAW,SAAD,CAAUC,UAAU,gDAApB,UACE,SAAC,KAAD,QAIP,C,kCC9EKC,EAAW,4BACXC,EAAU,mCAyEVvB,EAAM,CACVwB,oBAvE0B,WAC1B,OAAOC,EAAAA,GAAAA,IAAA,UACGH,EADH,yCAC4CC,IAChDtB,MAAK,SAAAyB,GACJ,GAAwB,MAApBA,EAASC,OACX,MAAM,IAAIC,MAAMF,EAASC,QAE3B,OAAOD,EAASG,IACjB,IACA5B,MAAK,SAAA4B,GACJ,OAAOA,EAAKC,OACb,GACJ,EA4DCC,eA1DqB,SAAAC,GACrB,OAAOP,EAAAA,GAAAA,IAAA,UACGH,EADH,mCACsCC,EADtC,kBACuDS,IAC3D/B,MAAK,SAAAyB,GACJ,GAAwB,MAApBA,EAASC,OACX,MAAM,IAAIC,MAAMF,EAASC,QAE3B,OAAOD,EAASG,IACjB,IACA5B,MAAK,SAAA4B,GACJ,OAAOA,EAAKC,OACb,GACJ,EA+CCG,eA7CqB,SAAA3C,GACrB,OAAOmC,EAAAA,GAAAA,IAAA,UACGH,EADH,oBACuBhC,EADvB,oBAC0CiC,IAC9CtB,MAAK,SAAAyB,GACJ,GAAwB,MAApBA,EAASC,OACX,MAAM,IAAIC,MAAMF,EAASC,QAE3B,OAAOD,EAASG,IACjB,IACA5B,MAAK,SAAA4B,GACJ,OAAOA,CACR,GACJ,EAkCCK,kBAhCwB,SAAA5C,GACxB,OAAOmC,EAAAA,GAAAA,IAAA,UACGH,EADH,oBACuBhC,EADvB,4BACkDiC,IACtDtB,MAAK,SAAAyB,GACJ,GAAwB,MAApBA,EAASC,OACX,MAAM,IAAIC,MAAMF,EAASC,QAE3B,OAAOD,EAASG,IACjB,IACA5B,MAAK,SAAA4B,GACJ,OAAOA,EAAKC,OACb,GACJ,EAqBCK,eAnBqB,SAAA7C,GACrB,OAAOmC,EAAAA,GAAAA,IAAA,UACGH,EADH,oBACuBhC,EADvB,4BACkDiC,IACtDtB,MAAK,SAAAyB,GACJ,GAAwB,MAApBA,EAASC,OACX,MAAM,IAAIC,MAAMF,EAASC,QAE3B,OAAOD,EAASG,IACjB,IACA5B,MAAK,SAAA4B,GACJ,OAAOA,EAAKO,IACb,GACJ,GAUD,K","sources":["pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.js","services/api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { BsArrowLeft } from 'react-icons/bs';\nimport { NavLink } from 'react-router-dom';\n\nexport const StyledLink = styled(NavLink)`\n  text-decoration: none;\n  color: black;\n`;\n\nexport const StyledBsArrowLeft = styled(BsArrowLeft)`\n  vertical-align: middle;\n  margin-right: 5px;\n  color: black;\n`;\n\nexport const StyledDiv = styled.div`\n  display: flex;\n  border-bottom: 1px solid lightgray;\n  box-shadow: 0px 5px 5px lightgray;\n  margin-bottom: 10px;\n  padding-bottom: 10px;\n`;\n\nexport const StyledInfoDiv = styled.div`\n  margin-left: 25px;\n`;\n\nexport const StyledUl = styled.ul`\n  list-style: none;\n  display: flex;\n  padding: 0;\n`;\n\nexport const StyledLi = styled.li`\n  margin-right: 10px;\n`;\n\nexport const StyledAddInfoDiv = styled.div`\n  border-bottom: 1px solid lightgray;\n  box-shadow: 0px 5px 5px lightgray;\n`;\n","import { useParams, Outlet, useLocation, NavLink } from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\nimport API from 'services/api';\nimport PropTypes from 'prop-types';\nimport {\n  StyledDiv,\n  StyledInfoDiv,\n  StyledUl,\n  StyledLi,\n  StyledAddInfoDiv,\n  StyledLink,\n  StyledBsArrowLeft,\n} from './MovieDetails.styled';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const location = useLocation();\n  // const navigate = useNavigate();\n  const backLinkHref = location.state?.from ?? '/';\n  // console.log(location.state.from);\n\n  useEffect(() => {\n    API.fetchMovieInfo(movieId).then(setMovie);\n  }, [movieId]);\n\n  if (!movie) {\n    return null;\n  }\n\n  // const onGoBack = () => {\n  //   navigate(backLinkHref);\n  // };\n\n  const { title, release_date, vote_average, overview, genres, poster_path } =\n    movie;\n\n  return (\n    <>\n      <button type=\"button\">\n        <StyledLink to={backLinkHref}>\n          <StyledBsArrowLeft />\n          Go back\n        </StyledLink>\n      </button>\n      <StyledDiv>\n        <img alt=\"poster\" src={`${IMAGE_BASE_URL}${poster_path}`} width=\"300\" />\n        <StyledInfoDiv>\n          <h1>\n            {title}({Number.parseInt(release_date)})\n          </h1>\n          <p>User Score: {Math.round(vote_average * 10)}% </p>\n          <h2>Overviews</h2>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <StyledUl>\n            {genres.map(({ id, name }) => (\n              <StyledLi key={id}>{name}</StyledLi>\n            ))}\n          </StyledUl>\n        </StyledInfoDiv>\n      </StyledDiv>\n      <StyledAddInfoDiv>\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <NavLink to=\"cast\">Cast</NavLink>\n          </li>\n          <li>\n            <NavLink to=\"reviews\">Reviews</NavLink>\n          </li>\n        </ul>\n      </StyledAddInfoDiv>\n      <Suspense fallback={<div>Loading subpage...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nMovieDetails.propTypes = {\n  movieId: PropTypes.string,\n  movie: PropTypes.shape({\n    title: PropTypes.number,\n    release_date: PropTypes.string,\n    vote_average: PropTypes.number,\n    overview: PropTypes.string,\n    genres: PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    }),\n    poster_path: PropTypes.string,\n  }),\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nconst BASE_URL = 'http://api.themoviedb.org';\nconst API_KEY = '35b67d916044ed61f84d01dde3676d84';\n// const axios = require('axios').default;\n\nconst fetchTrendingMovies = () => {\n  return axios\n    .get(`${BASE_URL}/3/trending/movie/day?api_key=${API_KEY}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data.results;\n    });\n};\n\nconst fetchAllMovies = queryTitle => {\n  return axios\n    .get(`${BASE_URL}/3/search/movie?api_key=${API_KEY}&query=${queryTitle}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data.results;\n    });\n};\n\nconst fetchMovieInfo = movieId => {\n  return axios\n    .get(`${BASE_URL}/3/movie/${movieId}?api_key=${API_KEY}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data;\n    });\n};\n\nconst fetchMovieReviews = movieId => {\n  return axios\n    .get(`${BASE_URL}/3/movie/${movieId}/reviews?api_key=${API_KEY}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data.results;\n    });\n};\n\nconst fetchMovieCast = movieId => {\n  return axios\n    .get(`${BASE_URL}/3/movie/${movieId}/credits?api_key=${API_KEY}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data.cast;\n    });\n};\n\nconst API = {\n  fetchTrendingMovies,\n  fetchAllMovies,\n  fetchMovieInfo,\n  fetchMovieReviews,\n  fetchMovieCast,\n};\n\nexport default API;\n\n// function fetchPokemon(name) {\n//   return fetch(`https://pokeapi.co/api/v2/pokemon/${name}`).then(response => {\n//     if (response.ok) {\n//       return response.json();\n//     }\n\n//     return Promise.reject(new Error(`Нет покемона с именем ${name}`));\n//   });\n// }\n\n// const api = {\n//   fetchPokemon,\n// };\n\n// export default api;\n"],"names":["StyledLink","styled","NavLink","StyledBsArrowLeft","BsArrowLeft","StyledDiv","StyledInfoDiv","StyledUl","StyledLi","StyledAddInfoDiv","movieId","useParams","useState","movie","setMovie","backLinkHref","useLocation","state","from","useEffect","API","then","title","release_date","vote_average","overview","genres","poster_path","type","to","alt","src","width","Number","parseInt","Math","round","map","id","name","Suspense","fallback","BASE_URL","API_KEY","fetchTrendingMovies","axios","response","status","Error","data","results","fetchAllMovies","queryTitle","fetchMovieInfo","fetchMovieReviews","fetchMovieCast","cast"],"sourceRoot":""}