{"version":3,"file":"static/js/826.f35b3619.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.js","pages/Movies/Movies.styled.js","pages/Movies/Movies.js","services/api.js"],"sourcesContent":["import { useLocation, NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <>\n      {movies.map(({ id, title }) => (\n        <li key={id}>\n          <NavLink to={`${id}`} state={{ from: location }}>\n            {title}\n          </NavLink>\n        </li>\n      ))}\n    </>\n  );\n};\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      title: PropTypes.string,\n    })\n  ),\n};\n\nexport default MovieList;\n","import styled from 'styled-components';\n\nexport const StyledForm = styled.form`\n  padding: 10px;\n`;\n\nexport const StyledInput = styled.input`\n  width: 400px;\n  border-color: lightgray;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 5px;\n  padding: 5px;\n  outline: none;\n  &:hover,\n  &:focus {\n    border-color: lightblue;\n    border-width: 3px;\n  }\n`;\n\nexport const StyledButton = styled.button`\n  border-color: lightgray;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 5px;\n  padding: 5px;\n  outline: none;\n`;\n\n// export const StyledLi = styled.ul`\n//   gap: 10px;\n// `;\n","import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport API from 'services/api';\nimport MovieList from 'components/MovieList/index';\nimport PropTypes from 'prop-types';\nimport {\n  StyledForm,\n  StyledInput,\n  StyledButton,\n  // StyledUl,\n} from './Movies.styled';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const filteredMovies = movies.filter(movie =>\n    movie.title.toLowerCase().includes(query.toLowerCase())\n  );\n\n  useEffect(() => {\n    query && API.fetchAllMovies(query).then(setMovies);\n  }, [query]);\n\n  const updateQueryString = query => {\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    e.target.reset();\n  };\n\n  console.log(movies);\n\n  return (\n    <>\n      <StyledForm onSubmit={handleSubmit}>\n        <StyledInput\n          type=\"text\"\n          value={query}\n          onChange={e => updateQueryString(e.target.value)}\n        />\n        <StyledButton type=\"submit\">Search</StyledButton>\n      </StyledForm>\n      <ul>\n        <MovieList movies={filteredMovies} />\n      </ul>\n    </>\n  );\n};\n\nMovies.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.shape),\n  query: PropTypes.string,\n};\n\nexport default Movies;\n","import axios from 'axios';\nconst BASE_URL = 'http://api.themoviedb.org';\nconst API_KEY = '35b67d916044ed61f84d01dde3676d84';\n// const axios = require('axios').default;\n\nconst fetchTrendingMovies = () => {\n  return axios\n    .get(`${BASE_URL}/3/trending/movie/day?api_key=${API_KEY}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data.results;\n    });\n};\n\nconst fetchAllMovies = queryTitle => {\n  return axios\n    .get(`${BASE_URL}/3/search/movie?api_key=${API_KEY}&query=${queryTitle}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data.results;\n    });\n};\n\nconst fetchMovieInfo = movieId => {\n  return axios\n    .get(`${BASE_URL}/3/movie/${movieId}?api_key=${API_KEY}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data;\n    });\n};\n\nconst fetchMovieReviews = movieId => {\n  return axios\n    .get(`${BASE_URL}/3/movie/${movieId}/reviews?api_key=${API_KEY}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data.results;\n    });\n};\n\nconst fetchMovieCast = movieId => {\n  return axios\n    .get(`${BASE_URL}/3/movie/${movieId}/credits?api_key=${API_KEY}`)\n    .then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n      return response.data;\n    })\n    .then(data => {\n      return data.cast;\n    });\n};\n\nconst API = {\n  fetchTrendingMovies,\n  fetchAllMovies,\n  fetchMovieInfo,\n  fetchMovieReviews,\n  fetchMovieCast,\n};\n\nexport default API;\n\n// function fetchPokemon(name) {\n//   return fetch(`https://pokeapi.co/api/v2/pokemon/${name}`).then(response => {\n//     if (response.ok) {\n//       return response.json();\n//     }\n\n//     return Promise.reject(new Error(`Нет покемона с именем ${name}`));\n//   });\n// }\n\n// const api = {\n//   fetchPokemon,\n// };\n\n// export default api;\n"],"names":["movies","location","useLocation","map","id","title","to","state","from","StyledForm","styled","StyledInput","StyledButton","useState","setMovies","useSearchParams","searchParams","setSearchParams","query","get","filteredMovies","filter","movie","toLowerCase","includes","useEffect","API","then","console","log","onSubmit","e","preventDefault","target","reset","type","value","onChange","updateQueryString","BASE_URL","API_KEY","fetchTrendingMovies","axios","response","status","Error","data","results","fetchAllMovies","queryTitle","fetchMovieInfo","movieId","fetchMovieReviews","fetchMovieCast","cast"],"sourceRoot":""}